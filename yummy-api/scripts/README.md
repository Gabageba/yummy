# Скрипты API

## clean-db

Удаляет из MongoDB устаревшие данные после переименования «меню» → «подборки»:

- удаляет коллекцию **menus**;
- удаляет поле **menus** у всех документов в коллекции **dishes**.

**Как выполнить**

1. Остановите API (если запущен).
2. В корне проекта **yummy-api** выполните:

```bash
npm run clean-db
```

Либо напрямую (если в каталоге yummy-api):

```bash
npx ts-node scripts/clean-db.ts
```

3. Убедитесь, что в корне **yummy-api** есть файл `.env` с переменной `MONGO_URI`.

После выполнения подборки хранятся в коллекции **collections**, старые данные из **menus** удалены. Связи «блюдо → подборки» в **dishes** задаются полем **collections** (при необходимости создайте подборки заново и привяжите к ним блюда).
